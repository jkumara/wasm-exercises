<!doctype html>

<script>
  (async () => {
    const memory = new WebAssembly.Memory({initial: 1});

    const logFromMemory = (offset, length) => {
      // log string to console here
    };

    const wasmOptions = {
      imports: {log: logFromMemory},
      js: {mem: memory}
    };

    const wasm = await WebAssembly.instantiateStreaming(
      fetch('memory.wasm'),
      wasmOptions
    );

    wasm.instance.exports.helloWorld();
  })()
</script>